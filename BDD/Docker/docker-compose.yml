services:
  ruby-3.2.2:
    build: ./Ruby
    container_name: ruby-3.2.2
    working_dir: /app
    stdin_open: true
    tty: true
    environment:
      - BOOTSTRAP=1
    volumes:
      - ./../:/app # bind mount do projeto inteiro
      - bundle_cache:/usr/local/bundle # gems persistentes
      - app_data:/app/data # dados runtime persistentes

  node-18.12.1:
    build: ./node
    container_name: node-18.12.1
    working_dir: /app
    stdin_open: true
    tty: true
    ports:
      - "3000:3000"
    volumes:
      - ./../:/app
      - app_data:/app/data # compartilha dados runtime

volumes:
  bundle_cache:
  app_data:
